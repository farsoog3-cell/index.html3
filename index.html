<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØµÙØ­Ø© Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª</title>
<style>
body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #e6f0ff;
    color: #333;
}

header {
    background: linear-gradient(90deg, #007BFF, #00BFFF);
    color: white;
    padding: 20px;
    text-align: center;
    font-size: 1.5em;
    font-weight: bold;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

main {
    max-width: 800px;
    margin: 20px auto;
    padding: 0 10px;
}

.login-container, .post-container {
    background-color: white;
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

input, textarea, button {
    width: 100%;
    padding: 12px;
    margin-top: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    box-sizing: border-box;
    font-size: 1em;
}

button {
    background: linear-gradient(90deg, #007BFF, #00BFFF);
    color: white;
    border: none;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s;
}

button:hover {
    background: linear-gradient(90deg, #0056b3, #0099cc);
}

.post {
    background-color: #fff;
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    position: relative;
}

.post-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.username {
    font-weight: bold;
    font-size: 1.1em;
}

.options {
    cursor: pointer;
    font-size: 1.5em;
    position: relative;
}

.options-menu {
    display: none;
    position: absolute;
    top: 25px;
    right: 0;
    background: white;
    border: 1px solid #ccc;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    z-index: 10;
}

.options-menu button {
    width: 100%;
    border: none;
    background: none;
    padding: 10px 15px;
    text-align: right;
    cursor: pointer;
}

.options-menu button:hover {
    background-color: #f0f0f0;
}

.post-content {
    margin-bottom: 15px;
    font-size: 1em;
    line-height: 1.5;
}

.post-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.post-actions {
    display: flex;
    gap: 15px;
    font-size: 1.2em;
    cursor: pointer;
    color: #555;
}

.post-actions span {
    display: flex;
    align-items: center;
    gap: 5px;
}

.views {
    display: flex;
    align-items: center;
    gap: 5px;
    color: #555;
    font-size: 0.9em;
}

.comments-container {
    margin-top: 10px;
}

.comment {
    margin-top: 5px;
    font-size: 0.9em;
    padding-left: 10px;
    border-left: 2px solid #007BFF;
}

.comment-input {
    display: flex;
    gap: 10px;
    margin-top: 10px;
}

.comment-input input {
    flex: 1;
}

@media (max-width: 600px) {
    .post-actions {
        flex-wrap: wrap;
    }
    .comment-input {
        flex-direction: column;
    }
}
</style>
</head>
<body>

<header>
    ØµÙØ­Ø© Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª
</header>

<main>
    <div class="login-container" id="login-container">
        <h3>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</h3>
        <input type="text" id="username" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
        <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    </div>

    <div class="post-container" id="create-post-container" style="display:none;">
        <textarea id="post-content" placeholder="Ø§ÙƒØªØ¨ Ù…Ù†Ø´ÙˆØ±Ùƒ Ù‡Ù†Ø§..."></textarea>
        <button onclick="createPost()">Ù†Ø´Ø±</button>
    </div>

    <div id="posts-container"></div>
</main>

<script>
let currentUser = "";
const posts = [];

function login() {
    const usernameInput = document.getElementById('username').value.trim();
    if (!usernameInput) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…");
    currentUser = usernameInput;
    document.getElementById('login-container').style.display = 'none';
    document.getElementById('create-post-container').style.display = 'block';
}

function createPost() {
    const content = document.getElementById('post-content').value.trim();
    if (!content) return alert("Ø§Ù„Ù…Ù†Ø´ÙˆØ± ÙØ§Ø±Øº");
    const post = {
        id: Date.now(),
        user: currentUser,
        content,
        likes: 0,
        comments: [],
        views: 0
    };
    posts.unshift(post);
    document.getElementById('post-content').value = '';
    renderPosts();
}

function renderPosts() {
    const container = document.getElementById('posts-container');
    container.innerHTML = '';
    posts.forEach(post => {
        post.views++;
        const postDiv = document.createElement('div');
        postDiv.className = 'post';
        postDiv.innerHTML = `
            <div class="post-header">
                <div class="username">${post.user}</div>
                <div class="options" onclick="toggleMenu(${post.id})">â‹®
                    <div class="options-menu" id="menu-${post.id}">
                        <button onclick="editPost(${post.id})">ØªØ¹Ø¯ÙŠÙ„</button>
                        <button onclick="deletePost(${post.id})">Ø­Ø°Ù</button>
                    </div>
                </div>
            </div>
            <div class="post-content">${post.content}</div>
            <div class="post-footer">
                <div class="post-actions">
                    <span onclick="toggleLike(${post.id})">â¤ï¸ ${post.likes}</span>
                    <span onclick="focusComment(${post.id)">ğŸ’¬ ØªØ¹Ù„ÙŠÙ‚</span>
                    <span onclick="sharePost(${post.id})">ğŸ”— Ù…Ø´Ø§Ø±ÙƒØ©</span>
                </div>
                <div class="views">ğŸ‘ ${post.views}</div>
            </div>
            <div class="comment-input">
                <input type="text" id="comment-${post.id}" placeholder="Ø£Ø¶Ù ØªØ¹Ù„ÙŠÙ‚...">
                <button onclick="addComment(${post.id})">ØªØ¹Ù„ÙŠÙ‚</button>
            </div>
            <div class="comments-container" id="comments-${post.id}">
                ${post.comments.map(c => `<div class="comment"><strong>${c.user}:</strong> ${c.text}</div>`).join('')}
            </div>
        `;
        container.appendChild(postDiv);
    });
}

function toggleMenu(postId) {
    const menu = document.getElementById(`menu-${postId}`);
    menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
}

function editPost(postId) {
    const post = posts.find(p => p.id === postId);
    const newContent = prompt("ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†Ø´ÙˆØ±:", post.content);
    if (newContent !== null) {
        post.content = newContent;
        renderPosts();
    }
}

function deletePost(postId) {
    const index = posts.findIndex(p => p.id === postId);
    if (index !== -1) {
        posts.splice(index, 1);
        renderPosts();
    }
}

function addComment(postId) {
    const post = posts.find(p => p.id === postId);
    const input = document.getElementById(`comment-${postId}`);
    const text = input.value.trim();
    if (!text) return;
    post.comments.push({user: currentUser, text});
    input.value = '';
    renderPosts();
}

function toggleLike(postId) {
    const post = posts.find(p => p.id === postId);
    post.likes++;
    renderPosts();
}

function focusComment(postId) {
    document.getElementById(`comment-${postId}`).focus();
}

function sharePost(postId) {
    alert("Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¬Ø§Ù‡Ø²! (Ù…Ø­Ø§ÙƒØ§Ø©)");
}
</script>

</body>
</html>
